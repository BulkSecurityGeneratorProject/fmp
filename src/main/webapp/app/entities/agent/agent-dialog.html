
<form name="editForm" role="form" novalidate>

    <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true"
                ng-click="vm.clear()">&times;</button>
        <h4 class="modal-title" id="myAgentLabel">Create or edit a Agent</h4>
    </div>
    <div class="modal-body">
        <jhi-alert-error></jhi-alert-error>
        <div class="form-group" ng-show="vm.agent.id">
            <label for="id">ID</label>
            <input type="text" class="form-control" id="id" name="id"
                    ng-model="vm.agent.id" readonly />
        </div>
        <div class="form-group">
            <label class="control-label" for="field_agentName">Agent Name</label>
            <input type="text" class="form-control" name="agentName" id="field_agentName"
                    ng-model="vm.agent.agentName" required/>
                    
            <div ng-show="editForm.agentName.$invalid">
				<p class="help-block" ng-show="editForm.agentName.$error.required">
					This field is required.</p>
			</div>
        </div>
        <div class="form-group">
            <label class="control-label" for="field_agentType">Agent Type</label>
            <select class="form-control" name="agentType" id="field_agentType" ng-model="vm.agent.agentType" ng-options="x for x in vm.optionAgentType"></select>
        </div>
        <div class="form-group">
            <label class="control-label" for="field_agentCategory">Agent Category</label>
            
            <input autocomplete="off" type="text" name="review_level" ng-model="vm.agent.agentCategory" class="form-control"
           		uib-typeahead="o.name as o.name for o in vm.agentCategory | filter:{name:$viewValue} | limitTo:5" >
            <!-- <input type="text" class="form-control" name="agentCategory" id="field_agentCategory"
                    ng-model="vm.agent.agentCategory"
                    /> -->
        </div>
        <div class="form-group">
            <label class="control-label" for="field_posCity">Pos City</label>
            <input type="text" class="form-control" name="posCity" id="field_posCity"
                    ng-model="vm.agent.posCity"
                    />
            <div ng-show="editForm.posCity.$invalid">
				<p class="help-block" ng-show="editForm.posCity.$error.required">
					This field is required.</p>
			</div>
        </div>
        <div class="form-group">
            <label class="control-label" for="field_posCountry">Pos Country</label>
            <input type="text" class="form-control" name="posCountry" id="field_posCountry"
                    ng-model="vm.agent.posCountry"
                    />
            <div ng-show="editForm.posCountry.$invalid">
				<p class="help-block" ng-show="editForm.posCountry.$error.required">
					This field is required.</p>
			</div>
        </div>
        
        <div class="form-group">
            <label class="control-label" for="field_address">Address</label>
            <input type="text" class="form-control" name="address" id="field_address"
                    ng-model="vm.agent.address"
                    />
        </div>
        <div class="form-group">
            <label class="control-label" for="field_telephone">Telephone</label>
            <input type="text" class="form-control" name="telephone" id="field_telephone"
                    ng-model="vm.agent.telephone"
                    />
        </div>
        <div class="form-group">
            <label class="control-label" for="field_fax">Fax</label>
            <input type="text" class="form-control" name="fax" id="field_fax"
                    ng-model="vm.agent.fax"
                    />
        </div>
        <div class="form-group">
            <label class="control-label" for="field_email">Email</label>
            <input type="text" class="form-control" name="email" id="field_email"
                    ng-model="vm.agent.email" required
                    />
            <div ng-show="editForm.email.$invalid">
				<p class="help-block" ng-show="editForm.email.$error.required">
					This field is required.</p>

				<p class="help-block" ng-show="editForm.email.$error.maxlength">
					This field cannot be longer than 100 characters.</p>
				<p class="help-block" ng-show="editForm.email.$error.email">
					Your email is invalid.</p>
			</div>
			
        </div>
        <div class="form-group">
            <label class="control-label" for="field_contact">Contact</label>
            <input type="text" class="form-control" name="contact" id="field_contact"
                    ng-model="vm.agent.contact"
                    />
        </div>
        <div class="form-group">
            <label class="control-label" for="field_iataCode">Iata Code</label>
            <input type="text" class="form-control" name="iataCode" id="field_iataCode"
                    ng-model="vm.agent.iataCode"
                    />
        </div>
<!--         <div class="form-group">
            <label class="control-label" for="field_isDeleted">Is Deleted</label>
            <input type="text" class="form-control" name="isDeleted" id="field_isDeleted"
                    ng-model="vm.agent.isDeleted"
                    />
        </div> -->

		<hr/>
        <div class="form-group">
        	<button ng-click="vm.addAgentPcc()">Add Agent Pcc</button>
        </div>
         <div class="form-group">
        	<table class="table table-stripped table-bordered datatable">
        		<thead>
	        		<tr>
	        			<th>Pseudo City</th>
	        			<th>Crs</th>
	        			<th>Action</th>
	        		</tr>
        		</thead>
        		<tbody>
        			<tr ng-repeat="agent in vm.agent.agentPcc track by $index">
        				<td>
        					<input type="text" class="form-control" name="agentPdeudo{{$index}}" required ng-class="{'must-fill': editForm.agentPdeudo{{$index}}.$error.required}"  ng-model="agent.pdeudoCity"/>
        				</td>
        				<td>
        					<select class="form-control" name="agentCrs{{$index}}" required ng-class="{'must-fill': !editForm.agentCrs{{$index}}.$valid}" id="field_agentCrs" ng-model="agent.crs" ng-options="x for x in vm.optionAgentCrs"></select>
						</td>
						<td>
							<button ng-click="vm.removeAgent($index)">Remove</button>
						</td>
        			</tr>
        		</tbody>
			</table>
		</div>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-default btn-back" data-dismiss="modal" ng-click="vm.clear()">
            <span class="glyphicon glyphicon-ban-circle"></span>&nbsp;<span>Cancel</span>
        </button>
        <button type="submit" ng-disabled="editForm.$invalid || vm.isSaving" class="btn btn-secondary" ng-click="vm.save()">
            <span class="glyphicon glyphicon-save"></span>&nbsp;<span>Save</span>
        </button>
    </div>
</form>
