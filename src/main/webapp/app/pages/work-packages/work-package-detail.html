<form name="editForm" role="form" novalidate>	
	
	<!-- main container -->
	<div class="main-container clearfix">
		<div class="page-wrapper">
			
			<div class="page-content page--current">
				<div class="content-header">
					<div class="clearfix">
						<a href="#" class="sidebar-toggle pull-left showLeftPush" data-toggle="push-menu" role="button">
					        <span class="sr-only">Toggle navigation</span>
					        <span class="icon-bar"></span>
					        <span class="icon-bar"></span>
					        <span class="icon-bar"></span>
				      	</a>
					</div>	
				</div>
				
				<div class="panel panel-detail">
					<div class="panel-body">
						<button class="btn btn-default small btn-back back js-back" data-id="0"><i class="fa fa-arrow-left"></i> Back</button>

						<!-- details -->
						<div class="clearfix">
							<div class="pull-left w50 two-column">
								<div class="box-detail">
									<div class="box-header">
										Details
									</div>
									<div class="box-body">
										<div class="clearfix">
											<div class="pull-left w50 two-column">
												<div class="form-group">
													<label for="field_wpid">WO ID</label>
													<input type="text" name="wpid" id="field_wpid" class="form-control" disabled ng-model="vm.workPackage.wpid"/>
												</div>
												<div class="form-group">
													<label for="field_businessArea">Business Area</label>
													<input ng-style="editForm.businessArea.$error.required && vm.errorStyle" ng-required="vm.checkRequiredField('businessArea')" 
		                    								autocomplete="off" type="text" name="businessArea" ng-model="vm.workPackage.businessArea" class="form-control" value="JKT"
			            									uib-typeahead="o as o.name for o in vm.businessAreas | filter:{name:$viewValue} | limitTo:5">
												</div>
												<div class="form-group">
													<label for="field_priority">Priority</label>
													<select class="form-control" name="priorityData" ng-model="vm.workPackage.priority" id="field_priority" ng-disabled="vm.isFieldDisable('priority')">
														<option value="">Select Priority</option>
										                <option value="LOW" data-translate="fmpApp.Priority.LOW">Low</option>
										                <option value="URGENT" data-translate="fmpApp.Priority.URGENT">Urgent</option>
										                <option value="TOP_URGENT" data-translate="fmpApp.Priority.TOP_URGENT">Top Urgent</option>
				            						</select>
												</div>
												<div class="form-group">
													<label for="field_status">Status</label>
													<select class="form-control" name="status" ng-model="vm.workPackage.status" id="field_status"  ng-disabled="true">
														 <option value="">Select Status</option>
										                <option value="COMPLETED">Completed</option>
										                <option value="NEW">New</option>
										                <option value="REVIEWING" >Reviewing</option>
										                <option value="READY_TO_RELEASE">ReadyToRelease</option>
										                <option value="PENDING">Pending</option>
										                <option value="MARKET_DISTRIBUTED">Market Distributed</option>
													</select>
												</div>
												<div class="form-group">
													<label for="field_reviewLevel">Review Level</label>
													<input autocomplete="off" type="text" name="review_level" ng-model="vm.workPackage.reviewLevel" class="form-control" disabled>
												</div>
												<div class="form-group">
													<label for="field_distributionType">Distribution Type</label>
													<input type="text" name="distributionType" class="form-control" disabled ng-model="vm.workPackage.targetDistribution">
												</div>
											</div>
											<div class="pull-left w50 two-column">
												<div class="form-group">
													<label for="field_name">WO Name</label>
													<input type="text" name="wo name" class="form-control"name="name" id="field_name" ng-style="editForm.name.$error.required && vm.errorStyle"
			                    						ng-model="vm.workPackage.name" 
		                    							ng-required="vm.checkRequiredField('workpackageName')" 
			                    						ng-disabled="vm.isFieldDisable('name')"/>
												</div>
												<div class="form-group">
													<label for="field_createdBy">Created By</label>
													<input type="text" class="form-control" name="createdBy" id="field_createdBy" ng-disabled="true"
			                    						ng-model="vm.workPackage.createdBy"/>
												</div>
												<div class="form-group">
													<label for="field_createdDate">Created Date</label>
													<div class="input-group">
														<input id="field_createdDate" type="text" ng-disabled="true" name="createdDate" class="form-control" datetime-picker="{{dateformat}}" ng-model="vm.workPackage.createdDate" is-open="vm.datePickerOpenStatus.createdDate">
														<span class="input-group-addon disabled">
															<i ng-disabled="true" ng-click="vm.openCalendar('createdDate')" class="fa fa-calendar"></i>
														</span>
													</div>
												</div>
												<div class="form-group">
													<label for="field_fillingDate">Filling Date</label>
													<div class="input-group">
														<input type="text" id="field_fillingDate" name="filingDate" class="form-control"
														ng-style="editForm.filingDate.$error.required && vm.errorStyle" ng-required="vm.checkRequiredField('filingDate')" 
														datetime-picker="{{dateformat}}" ng-model="vm.workPackage.filingDate" is-open="vm.datePickerOpenStatus.filingDate"  ng-disabled="vm.isFieldDisable('filingDate')"/>
														<span class="input-group-addon">
															<i class="fa fa-calendar" ng-click="vm.openCalendar('filingDate')" ng-disabled="vm.isFieldDisable('filingDate')"></i>
														</span>
													</div>
												</div>
												<div class="form-group">
													<label for="field_expPax">Exp Pax</label>
													<input type="text" name="expPax" class="form-control"name="name" id="field_expPax"
			                    						ng-model="vm.workPackage.expPax" />
												</div>
												<div class="form-group">
													<label for="field_expRev">Exp Rev</label>
													<input type="text" name="expPax" class="form-control"name="name" id="field_expRev"
			                    						ng-model="vm.workPackage.expRev" />
												</div>
												<div class="form-group">
													<label for="field_saleDate">Sale Start Date</label>
													<div class="input-group">
														<input id="field_saleDate" type="text" ng-style="editForm.saleDate.$error.required && vm.errorStyle"
		                    								ng-required="vm.checkRequiredField('saleDate')" name="saleDate" ng-disabled="vm.isFieldDisable('saleDate')" datetime-picker="{{dateformat}}" ng-model="vm.workPackage.saleDate" is-open="vm.datePickerOpenStatus.saleDate" class="form-control">
														<span class="input-group-addon">
															<i class="fa fa-calendar" ng-click="vm.openCalendar('saleDate')" ng-disabled="vm.isFieldDisable('saleDate')"></i>
														</span>
													</div>
												</div>
												
												<div class="form-group">
													<label for="field_distributionDate">Distribution Date</label>
													<div class="input-group">
														<input type="text" id="field_distributionDate" name="distributionDate" class="form-control" ng-disabled="vm.isFieldDisable('distributionDate')" datetime-picker="{{dateformat}}" ng-model="vm.workPackage.distributionDate" is-open="vm.datePickerOpenStatus.distributionDate">
														<span class="input-group-addon disabled">
															<i class="fa fa-calendar" ng-click="vm.openCalendar('distributionDate')" ng-disabled="vm.isFieldDisable('distributionDate')"></i>
														</span>
													</div>
												</div>
												<div class="form-group">
													<label for="field_discExpiryDate">Disc/Expiry Date</label>
													<div class="input-group">
														<input type="text" id="field_discExpiryDate" name="discExpiryDate" class="form-control" datetime-picker="{{dateformat}}" ng-model="vm.workPackage.discExpiryDate" is-open="vm.datePickerOpenStatus.discExpiryDate"/>
														<span class="input-group-addon disabled">
															<i class="fa fa-calendar" ng-click="vm.openCalendar('discExpiryDate')" ng-disabled="true"></i>
														</span>
													</div>
												</div>
											</div>
										</div>
									</div>
								</div>
							</div>
							<div class="pull-left w50 two-column">
								<div class="box-detail box-comment">
									<div class="box-header">
										Comment
									</div>
									<div class="box-body bbgrey">
										<div class="form-group">
											<label>Comment</label>
											<textarea class="form-control" rows="3" placeholder="Enter ..." id="comment-area"></textarea>
										</div>
										<div class="clearfix">
											<div class="pull-right">
												<button class="btn btn-default small btn-secondary" id="btn-comment"></i>Send</button>
											</div>
										</div>										
									</div>
									<div class="box-body">
										<div class="comment-wrapper"></div>
									</div>
								</div>
							</div>
						</div>						
						<!-- end of details -->
					</div>
				</div>

				<div class="panel panel-tabs">
					<div class="panel-body">
						<div class="clearfix mb1">
							<div class="pull-right">
								<div class="button-group dropdown">
									<button class="btn btn-default small">Workflow <i class="fa fa-caret-down"></i></button>
									<ul class="dropdown-menu" role="menu">
									    <li><a ng-click="vm.passUp()" 
								        ng-class="{disabled : editForm.$invalid }" 
								        ng-show="vm.workPackage.reviewLevel != 'HO' && vm.workPackage.reviewLevel != 'Distribution' && vm.workPackage.reviewLevel != 'Route Management'">Pass Up</a></li>
								        <li><a ng-click="vm.passDown()" 
								        ng-show="vm.workPackage.reviewLevel != 'LSO'  && vm.workPackage.reviewLevel != 'Route Management' && vm.workPackage.reviewLevel != 'Distribution'">Pass Down</a></li>
								        <li><a ng-click="vm.passSideway()" 
								        ng-class="{disabled : editForm.$invalid }" 
								        ng-show="vm.workPackage.reviewLevel == 'HO' || vm.workPackage.reviewLevel == 'Route Management'">Pass Sideways</a></li>
								        <li class="divider"></li>
								        <li><a ng-click="vm.approve()" 
								        ng-class="{disabled : editForm.$invalid }" 
								        ng-show="vm.workPackage.reviewLevel == 'HO'">Approve</a></li>
								        <li><a ng-click="vm.referback()" 
								        ng-show="vm.workPackage.reviewLevel == 'Distribution'"
								        >Refer Back</a></li>
									</ul>
								</div>
								<div class="button-group dropdown">
									<button class="btn btn-default small">Action <i class="fa fa-caret-down"></i></button>
									<ul class="dropdown-menu" role="menu">
									    <li>
									    	<a href="#">Save and Validate</a>
									    </li>
									</ul>
								</div>	
								<div class="button-group dropdown">
									<button class="btn btn-default small">Sheet <i class="fa fa-caret-down"></i></button>
									<ul class="dropdown-menu" role="menu">
									    <li>
									    	<a href="#" data-toggle="modal" data-target="#addNewsheet">Add</a>
									    </li>
									    <li>
									    	<a href="#">Remove</a>
									    </li>
									    <li>
									    	<a href="#">Rename</a>
									    </li>
									    <li>
									    	<a href="#">Copy</a>
									    </li>
									</ul>
								</div>												
								<button class="btn btn-default small" ng-click="vm.save()">Save</button>
							</div>
						</div>

						<ng-form name="editFormATPCO" role="form" novalidate>
							<div class="tab-wrapper" id="distribution-ATPCO">
								<div class="clearfix tab-body">
									<ul class="clearfix nav-responsive nav nav-tabs">
									    <li ng-class="{active:$index==0}" ng-repeat="workPackageSheet in vm.workPackage.fareSheet"><a href="#ga-fares{{$index}}" ng-click="vm.selectTab($index);">GA Fares : {{vm.workPackage.fareSheet[$index].specifiedFaresName}}</a></li>
									    <li><a href="#add-on">Add Ons</a></li>
									    <li><a href="#filling-instruction">Filling Instruction</a></li>
									    <li><a href="#attachment-atpco">Attachment</a></li>
									    <li><a href="#filling-details">Filling Details</a></li>
									</ul>
									<div class="tab-content">
											<div class="tab-pane" ng-class="{active:$index==0}" ng-repeat="workPackageSheet in vm.workPackage.fareSheet" id="ga-fares{{$index}}">
												<div class="pb1 mb1 bbgrey">
													<div class="clearfix">
														<div class="pull-left w50 two-column">
															<div class="form-group">
																<label>Description</label>
																<input type="text" name="description{{$index}}" class="form-control"
																ng-class="{'must-fill': editForm.editFormATPCO.description{{$index}}.$error.required && fare.action != 'Canceled'}"
												         		ng-model="workPackageSheet.specifiedFaresName" 
												         		ng-required="vm.checkRequiredField('description')"  
												         		ng-disabled="vm.isFieldDisable('description')">
															</div>
														</div>
														<div class="pull-left w50 two-column">
															<div class="form-group">
																<label>Approval Reference</label>
																<input type="text" name="approvalReference{{$index}}" class="form-control" 
																ng-class="{'must-fill': editForm.editFormATPCO.approvalReference{{$index}}.$error.required && fare.action != 'Canceled'}"
													            ng-model="workPackageSheet.approvalReference"
																ng-disabled="vm.isFieldDisable('approvalReference')"
																ng-required="vm.checkRequiredField('approvalReference')">
															</div>
														</div>
													</div>
													
													<div class="clearfix">
														<div class="pull-left w50 two-column">
															<div class="form-group">
																<label>Fare Type</label>
																
																<select 
											      				class="form-control" 
											      				name="fareType{{$index}}"
											      				ng-model="workPackageSheet.fareType" 
																ng-style="editForm.editFormATPCO.fareType{{$index}}.$error.required && vm.errorStyle"
													      		ng-options="fareType for fareType in vm.fareType" 
											      				ng-required="vm.checkRequiredField('fareType')"
											      				ng-disabled="vm.isFieldDisable('fareType')"></select>										      				
															</div>
														</div>
														<div class="pull-left w50 two-column">
															<div class="form-group">
																<label>Version</label>
																<select class="form-control">
																	<option>Select Version</option>
																	<option>Current</option>
																</select>
															</div>
														</div>
													</div>
												</div>
												
												<!-- table details-->
												<div class="table-wrapper">
													<div class="datatable-wrapper form-inline">
														<div class="clearfix">
															<div class="pull-left">
																<div class="clearfix">
																	<div class="pull-right datatable-button">
																		<div class="button-group dropdown">
																			<button class="btn btn-default small btn-secondary">Edit <i class="fa fa-caret-down"></i></button>
																			<ul class="dropdown-menu" role="menu">
																			    <li>
																			    	<a href="#">Clear Selection</a>
																			    </li>
																			    <li>
																			    	<a href="#">Fill Down</a>
																			    </li>
																			    <li>
																			    	<a href="#">Search/Replace</a>
																			    </li>
																			    <li>
																			    	<a href="#">Add Rows</a>
																			    </li>
																			    <li>
																			    	<a href="#">Delete Selected Rows</a>
																			    </li>
																			    <li>
																			    	<a href="#">Duplicate Selected Rows</a>
																			    </li>
																			    <li>
																			    	<a href="#">Copy Selected Rows</a>
																			    </li>
																			    <li>
																			    	<a href="#">Paste</a>
																			    </li>
																			    <li>
																			    	<a href="#">Paste As Cancel</a>
																			    </li>
																			</ul>
																		</div>													
																		<button class="btn btn-default small btn-secondary">Import</button>
																		<button class="btn btn-default small btn-secondary">Export</button>
																		<button class="btn btn-default small btn-secondary">Publish</button>
																		<button class="btn btn-default small btn-secondary" data-toggle="modal" data-target="#modalAgent">Agents</button>
																		<button class="btn btn-default small btn-secondary" data-toggle="modal" data-target="#modalRatesheet">Rate Sheet</button>
																	</div>
																</div>																						
															</div>
														</div>
														<div class="table-responsive">
															<table class="table table-stripped table-bordered datatable">
																<thead>
																	<tr role="row">
																		<th class="sorting_asc" tabindex="0" aria-controls="datatable-tabletools" rowspan="1" colspan="1" aria-sort="ascending">No</th>
																		<th class="sorting" tabindex="0" aria-controls="datatable-tabletools" rowspan="1" colspan="1">Status</th>
																		<th class="sorting" tabindex="0" aria-controls="datatable-tabletools" rowspan="1" colspan="1">Carrier</th>
																		<th class="sorting" tabindex="0" aria-controls="datatable-tabletools" rowspan="1" colspan="1">Action</th>
																		<th class="sorting" tabindex="0" aria-controls="datatable-tabletools" rowspan="1" colspan="1">Tar No</th>
																		<th class="sorting" tabindex="0" aria-controls="datatable-tabletools" rowspan="1" colspan="1">Tar Cd</th>
																		<th class="sorting" tabindex="0" aria-controls="datatable-tabletools" rowspan="1" colspan="1">Global</th>
																		<th class="sorting" tabindex="0" aria-controls="datatable-tabletools" rowspan="1" colspan="1">Origin</th>
																		<th class="sorting" tabindex="0" aria-controls="datatable-tabletools" rowspan="1" colspan="1">Dest</th>
																		<th class="sorting" tabindex="0" aria-controls="datatable-tabletools" rowspan="1" colspan="1">Fare Cls</th>
																		<th class="sorting" tabindex="0" aria-controls="datatable-tabletools" rowspan="1" colspan="1">Bkg Cls</th>
																		<th class="sorting" tabindex="0" aria-controls="datatable-tabletools" rowspan="1" colspan="1">Cabin</th>
																		<th class="sorting" tabindex="0" aria-controls="datatable-tabletools" rowspan="1" colspan="1">OW/RT</th>
																		<th class="sorting" tabindex="0" aria-controls="datatable-tabletools" rowspan="1" colspan="1">Ftnt</th>
																		<th class="sorting" tabindex="0" aria-controls="datatable-tabletools" rowspan="1" colspan="1">Rtg No</th>
																		<th class="sorting" tabindex="0" aria-controls="datatable-tabletools" rowspan="1" colspan="1">Rule No</th>
																		<th class="sorting" tabindex="0" aria-controls="datatable-tabletools" rowspan="1" colspan="1">Curr</th>
																		<th class="sorting" tabindex="0" aria-controls="datatable-tabletools" rowspan="1" colspan="1">Base Amt</th>
																		<th class="sorting" tabindex="0" aria-controls="datatable-tabletools" rowspan="1" colspan="1">Target Aif</th>
																		<th class="sorting" tabindex="0" aria-controls="datatable-tabletools" rowspan="1" colspan="1">Travel Start</th>
																		<th class="sorting" tabindex="0" aria-controls="datatable-tabletools" rowspan="1" colspan="1">Travel End</th>
																		<th class="sorting" tabindex="0" aria-controls="datatable-tabletools" rowspan="1" colspan="1">Sale Start</th>
																		<th class="sorting" tabindex="0" aria-controls="datatable-tabletools" rowspan="1" colspan="1">Sale End</th>
																		<th class="sorting" tabindex="0" aria-controls="datatable-tabletools" rowspan="1" colspan="1">Comment</th>
																		<th class="sorting" tabindex="0" aria-controls="datatable-tabletools" rowspan="1" colspan="1">Travel Complete</th>
																		<th class="sorting" tabindex="0" aria-controls="datatable-tabletools" rowspan="1" colspan="1">Travel Complete Indicator</th>
																		<th class="sorting" tabindex="0" aria-controls="datatable-tabletools" rowspan="1" colspan="1">Ratesheet Comment</th>
																	</tr>
																</thead>
																<tbody>
																	<tr role="row" class="datatable-row" ng-repeat="fare in vm.workPackage.fareSheet[vm.selectedTab].fares track by $index">
																		<td>{{$index+1}}</td>
																		<td>
																			<span ng-if="vm.isFieldEditable(fare, 'status')">
																				<select class="form-control inside-table" name="status{{$index}}" ng-model="fare.status" id="field_status" 
																					ng-class="{'must-fill': ditForm.editFormATPCO.status{{$index}}.$error.required && fare.action != 'Canceled'}"												         		
												           							ng-disabled="vm.isFieldDisable('status')"
																	             	ng-required="vm.checkRequiredField('status')">
																					<option value="">Select Priority</option>
																	                <option value="PENDING" >Pending</option>
																	                <option value="APPROVED">Approve</option>
																	                <option value="REJECTED">Reject</option>
																				</select>
																				<span class="form-control inside-table" ng-if="!vm.isFieldEditable(fare, 'status')">
														           					{{fare.status}}
														           				</span>
																			</span>
																		</td>
																		<td>
																			<span ng-if="vm.isFieldEditable(fare, 'carrier')">
													           					<input type="text" class="form-control" name="carrier{{$index}}" id="field_carrier"
														                    		ng-model="fare.carrier"
														                    		ng-disabled="vm.isFieldDisable('carrier')"
														                    		ng-class="{'must-fill': ditForm.editFormATPCO.carrier{{$index}}.$error.required && fare.action != 'Canceled'}"												         		
																		            ng-required="vm.checkRequiredField('carrier')"/>
													           				</span>
													           				<span ng-if="!vm.isFieldEditable(fare, 'carrier')">
													           					{{fare.carrier}}
													           				</span>
																		</td>																
																		<td>{{fare.action}}</td>
																		<td>
																			<span ng-if="vm.isFieldEditable(fare, 'tarno')">								
													           					<input type="text" class="form-control" name="tarno{{$index}}" id="field_tarno" 
													           					ng-required="vm.checkRequiredField('tarno') && fare.action != 'Canceled'"  
													           					ng-class="{'must-fill': editForm.editFormATPCO.tarno{{$index}}.$error.required && fare.action != 'Canceled'}"	
														                    	ng-model="fare.tarno" 
														                    	ng-disabled="vm.isFieldDisable('tarno')" />
													           				</span>
													           				<span ng-if="!vm.isFieldEditable(fare, 'tarno')">
													           					{{fare.tarno}}
													           				</span>
																		</td>
																		<td>
																			<span ng-if="vm.isFieldEditable(fare, 'tarcd')">
													           					<input type="text" class="form-control" name="tarcd{{$index}}" id="field_tarcd" 
													           					ng-disabled="vm.isFieldDisable('tarcd')"
													           					ng-required="vm.checkRequiredField('tarcd') && fare.action != 'Canceled'"  
													           					ng-class="{'must-fill': editForm.editFormATPCO.tarcd{{$index}}.$error.required && fare.action != 'Canceled'}"	
														                    	ng-model="fare.tarcd"/>
													           				</span>
													           				<span ng-if="!vm.isFieldEditable(fare, 'tarcd')">
														           				{{fare.tarcd}}
													           				</span>
																		</td>
																		<td>EH</td>
																		<td>
																			<span ng-if="vm.isFieldEditable(fare, 'origin')">
												                				<input type="text" class="form-control" name="origin{{$index}}" id="field_origin" 
												                				ng-disabled="vm.isFieldDisable('origin')"
												                				ng-required="vm.checkRequiredField('origin') && fare.action != 'Canceled'"  
												                				ng-class="{'must-fill': editForm.editFormATPCO.origin{{$index}}.$error.required && fare.action != 'Canceled'}"	
														                    	ng-model="fare.origin"/>
												                			
												                			</span>
												                			<span ng-if="!vm.isFieldEditable(fare, 'origin')">
												                			{{fare.origin}}
												                			</span>
																		</td>
																		<td>
																			<span ng-if="vm.isFieldEditable(fare, 'destination')">
												                				<input type="text" class="form-control" name="destination{{$index}}" id="field_destination" 
												                				ng-disabled="vm.isFieldDisable('destination')"
												                				ng-required="vm.checkRequiredField('destination') && fare.action != 'Canceled'"  
												                				ng-class="{'must-fill': editForm.editFormATPCO.destination{{$index}}.$error.required && fare.action != 'Canceled'}"	
													                    		ng-model="fare.destination"/>
												                			
												                			</span>
												                			<span ng-if="!vm.isFieldEditable(fare, 'destination')">
												                			{{fare.destination}}
												                			</span>
																		</td>
																		<td>
																			<span ng-if="vm.isFieldEditable(fare, 'farebasis')">
												                				<input type="text" class="form-control" name="farebasis{{$index}}" id="field_farebasis"
												                				ng-disabled="vm.isFieldDisable('farebasis')"
												                				ng-required="vm.checkRequiredField('farebasis') && fare.action != 'Canceled'" 
												                				ng-class="{'must-fill': editForm.editFormATPCO.farebasis{{$index}}.$error.required && fare.action != 'Canceled'}"	
													                    		ng-model="fare.fareBasis"/>												                			
												                			</span>
												                			<span ng-if="!vm.isFieldEditable(fare, 'farebasis')">
												                			{{fare.fareBasis}}
												                			</span>
																		</td>	
																		<td>
																			<span ng-if="vm.isFieldEditable(fare, 'bookingClass')">
												                				<input type="text" class="form-control" name="bookingClass{{$index}}" id="field_bookingClass"
												                				ng-disabled="vm.isFieldDisable('bookingClass')"
												                				ng-required="vm.checkRequiredField('bookingClass') && fare.action != 'Canceled'" 
												                				ng-class="{'must-fill': editForm.editFormATPCO.bookingClass{{$index}}.$error.required && fare.action != 'Canceled'}"	
													                    		ng-model="fare.bookingClass"/>												                			
												                			</span>
												                			<span ng-if="!vm.isFieldEditable(fare, 'bookingClass')">
												                				{{fare.bookingClass}}
												                			</span>
																		</td>
																		<td>
													           				<span ng-if="vm.isFieldEditable(fare, 'cabin')">									           						
													           						<select class="col-md-12" 
																	             name="cabin{{$index}}"
																	             ng-required="vm.checkRequiredField('cabin')"
																	             ng-class="{'must-fill': editForm.editFormATPCO.cabin{{$index}}.$error.required && fare.action != 'Canceled'}"	
																	             ng-model="fare.cabin" id="field_cabin" 
																	             ng-disabled="vm.isFieldDisable('cabin')">
																	                <option value="">Select Cabin</option>
																	                <option>Y - Economy</option>
																	                <option>F - First Class</option>
																	                <option>C - Business</option>
																	                <option>R - Premium Economy</option>
																	            </select>
													                				<!-- <input type="text" class="form-control" name="cabin{{$index}}" id="field_bookingClass"
													                				ng-disabled="fare.action == 'Canceled'"
													                				ng-required="vm.checkRequiredField('cabin') && fare.action != 'Canceled'" 
																				ng-style="editForm.editFormATPCO.cabin{{$index}}.$error.required && fare.action != 'Canceled' && vm.errorStyle"
														                    		
														                    		ng-model="fare.cabin"/> -->
													                			
													                			</span>
													                			<span ng-if="!vm.isFieldEditable(fare, 'cabin')">
													                				{{fare.cabin}}
													                			</span>
													           			</td>
													           			<td>
													           				<span ng-if="vm.isFieldEditable(fare, 'typeOfJourney')">
												                				<select class="col-md-12" 
																	             name="typeOfJourney{{$index}}"
																	             ng-required="vm.checkRequiredField('typeOfJourney')"
																	             ng-class="{'must-fill': editForm.editFormATPCO.typeOfJourney{{$index}}.$error.required && fare.action != 'Canceled'}"																			            
																	             ng-model="fare.typeOfJourney" id="field_typeOfJourney"
																	             ng-disabled="vm.isFieldDisable('typeOfJourney')">
																	                <option value="">Select OW/RT</option>
																	                <option>One Way</option>
																	                <option>Return</option>
																	                <option>One Way Only</option>
																	            </select>
												                			</span>
												                			<span ng-if="!vm.isFieldEditable(fare, 'typeOfJourney')">
												                				<span ng-if="fare.typeOfJourney == 'One Way'">1</span>
														           				<span ng-if="fare.typeOfJourney == 'Return'">2</span>
														           				<span ng-if="fare.typeOfJourney == 'One Way Only'">3</span>
												                			</span>
													           			</td>
												               			<td>
												               				<span ng-if="vm.isFieldEditable(fare, 'footnote')">
													                				<input type="text" class="form-control" name="footnote{{$index}}" id="field_footnote"
																		            ng-class="{'must-fill': editForm.editFormATPCO.footnote{{$index}}.$error.required && fare.action != 'Canceled'}"																			            
																		            ng-disabled="vm.isFieldDisable('footnote')"
																		            ng-required="vm.checkRequiredField('footnote')"
														                    		ng-model="fare.footnote"/>
													                			
													                			</span>
													                			<span ng-if="!vm.isFieldEditable(fare, 'footnote')">
													                				{{fare.footnote}}
													                			</span>
												               			</td>
												               			<td>
												               				<span ng-if="vm.isFieldEditable(fare, 'rtgno')">
													                				<input type="text" class="form-control" name="rtgno{{$index}}" id="field_bookingClass"
													                				ng-disabled="vm.isFieldDisable('rtgno')"
													                				ng-required="vm.checkRequiredField('rtgno')" 
													                				ng-class="{'must-fill': editForm.editFormATPCO.rtgno{{$index}}.$error.required && fare.action != 'Canceled'}"																			            
																		            ng-model="fare.rtgno"/>
													                			
													                			</span>
													                			<span ng-if="!vm.isFieldEditable(fare, 'rtgno')">
													                				{{fare.rtgno}}
													                			</span>
												               			</td>
												               			<td>
												               				<span ng-if="vm.isFieldEditable(fare, 'ruleno')">
													                				<input type="text" class="form-control" name="ruleno{{$index}}" id="field_bookingClass"
													                				ng-disabled="vm.isFieldDisable('ruleno')"
													                				ng-required="vm.checkRequiredField('ruleno')" 
													                				ng-class="{'must-fill': editForm.editFormATPCO.ruleno{{$index}}.$error.required && fare.action != 'Canceled'}"																			            
																		            ng-model="fare.ruleno"/>
													                			
													                			</span>
													                			<span ng-if="!vm.isFieldEditable(fare, 'ruleno')">
													                				{{fare.ruleno}}
													                			</span>
												               			</td>
												               			<td>
												               				<span ng-if="vm.isFieldEditable(fare, 'currency')">
												                				<input type="text" class="form-control" name="currency{{$index}}" id="field_currency{{$index}}"
												                				ng-disabled="vm.isFieldDisable('currency')"
												                				ng-required="vm.checkRequiredField('currency')" 
												                				ng-class="{'must-fill': editForm.editFormATPCO.currency{{$index}}.$error.required && fare.action != 'Canceled'}"																			            
																	            ng-model="fare.currency"/>
												                			
												                			</span>
												                			<span ng-if="!vm.isFieldEditable(fare, 'currency')">
												                				{{fare.currency}}
												                			</span>
												               			</td>
												               			<td>
												               				<span ng-if="vm.isFieldEditable(fare, 'amount')">
													                				<input type="text" class="form-control" name="amount{{$index}}" id="field_bookingClass"
													                				ng-disabled="vm.isFieldDisable('amount')"
													                				ng-required="vm.checkRequiredField('amount')" 
													                				ng-class="{'must-fill': editForm.editFormATPCO.amount{{$index}}.$error.required && fare.action != 'Canceled'}"																			            
																		            ng-model="fare.amount"/>
													                			
													                			</span>
													                			<span ng-if="!vm.isFieldEditable(fare, 'amount')">
													                				{{fare.amount}}
													                			</span>
												               			</td>
												               			<!--  
												               			<td>{{fare.recommendedAmount - fare.amount}}</td>
												               			<td>{{(fare.recommendedAmount - fare.amount) / fare.amount * 100 | number : 2}} %</td>
												               		    <td ng-show="vm.showTFC">{{fare.yqyr}}</td>
													               		<td ng-show="vm.showTFC">{{fare.cat12}}</td>
													               		<td ng-show="vm.showTFC">{{fare.totalTax}}</td>   
													               		<td>{{fare.tfc}}</td>   
													               		<td class="input"  >
													               			<span ng-if="vm.isFieldEditable(fare, 'aif')">
													                				<input type="text" class="form-control" name="aif{{$index}}" id="field_bookingClass"
													                				ng-disabled="fare.action == 'Canceled'"
													                				ng-required="vm.checkRequiredField('aif')" ng-style="editForm.editFormATPCO.aif{{$index}}.$error.required && fare.action != 'Canceled' && vm.errorStyle"
														                    		ng-change="vm.fareAifChange(fare)"
														                    		ng-model="fare.aif"/>
													                			
													                			</span>
													                			<span ng-if="!vm.isFieldEditable(fare, 'aif')">
													               				{{fare.aif}}
													                			</span>
													               		</td>   
													               		
													               		<td></td>
												               			<td></td>
												               			-->
												               			
												               			<td>
													               			<span ng-if="vm.isFieldEditable(fare, 'aif')">
													                				<input type="text" class="form-control" name="aif{{$index}}" id="field_bookingClass"
													                				ng-disabled="vm.isFieldDisable('aif')"
													                				ng-required="vm.checkRequiredField('aif')" 
													                				ng-class="{'must-fill': editForm.editFormATPCO.aif{{$index}}.$error.required && fare.action != 'Canceled'}"																			            
																		            ng-model="fare.aif"/>
													                			
													                			</span>
													                			<span ng-if="!vm.isFieldEditable(fare, 'aif')">
													               				{{fare.aif}}
													                			</span>
													               		</td> 
													               		
												               			<td>
												               				<span ng-if="vm.isFieldEditable(fare, 'travelStartDate')">
													                				<input type="text" class="form-control" name="travelStartDate{{$index}}" id="field_travelStartDate"
													                				ng-disabled="vm.isFieldDisable('travelStartDate')"
													                				ng-required="vm.checkRequiredField('travelStartDate')"
													                				ng-class="{'must-fill': editForm.editFormATPCO.travelStartDate{{$index}}.$error.required && fare.action != 'Canceled'}"																			            
																		            ng-model="fare.travelStart"/>
													                			
													                			</span>
													                			<span ng-if="!vm.isFieldEditable(fare, 'travelStartDate')">
													               				{{fare.travelStart}}
													                			</span>
												               			
												               			</td>
												               			<td>
												               				<span ng-if="vm.isFieldEditable(fare, 'travelEndDate')">
													                				<input type="text" class="form-control" name="travelEndDate{{$index}}" id="field_travelEndDate"
													                				ng-disabled="vm.isFieldDisable('travelEndDate')"
													                				ng-required="vm.checkRequiredField('travelEndDate')"
													                				ng-class="{'must-fill': editForm.editFormATPCO.travelEndDate{{$index}}.$error.required && fare.action != 'Canceled'}"																			            
																		            ng-model="fare.travelEnd"/>
													                			
													                			</span>
													                			<span ng-if="!vm.isFieldEditable(fare, 'travelEndDate')">
													               				{{fare.travelEnd}}
													                			</span>
												               			</td>
												               			<td>
												               				<span ng-if="vm.isFieldEditable(fare, 'saleStartDate')">
													                				<input type="text" class="form-control" name="saleStartDate{{$index}}" id="field_saleStartDate"
													                				ng-disabled="vm.isFieldDisable('saleStartDate')"									                				
													                				ng-required="vm.checkRequiredField('saleStartDate')"
														                    		ng-class="{'must-fill': editForm.editFormATPCO.saleStartDate{{$index}}.$error.required && fare.action != 'Canceled'}"																			            
																		            ng-model="fare.saleStart"/>
													                			
													                			</span>
													                			<span ng-if="!vm.isFieldEditable(fare, 'saleStartDate')">
													               				{{fare.saleStart}}
													                			</span>
												               			</td>
												               			<td>
												               					<span ng-if="vm.isFieldEditable(fare, 'saleEndDate')">
													                				<input type="text" class="form-control" name="saleEndDate{{$index}}" id="field_saleEndDate"
													                				ng-disabled="vm.isFieldDisable('saleEndDate')"
													                				ng-required="vm.checkRequiredField('saleEndDate')"
														                    		ng-class="{'must-fill': editForm.editFormATPCO.saleEndDate{{$index}}.$error.required && fare.action != 'Canceled'}"																			            
																		            ng-model="fare.saleEnd"/>
													                			
													                			</span>
													                			<span ng-if="!vm.isFieldEditable(fare, 'saleEndDate')">
													               				{{fare.saleEnd}}
													                			</span>
												               			</td>
												               			<td>
												               				<input type="text" class="form-control" name="comment{{$index}}" id="field_comment"
														                    		ng-model="fare.comment"/>
												               			</td>
												               			<td>
												               				<span ng-if="vm.isFieldEditable(fare, 'travelComplete')">
												                				<input type="text" class="form-control" name="travelComplete{{$index}}" id="field_travelComplete"
												                				ng-disabled="vm.isFieldDisable('travelComplete')"
												                				ng-required="vm.checkRequiredField('travelComplete')"
													                    		ng-class="{'must-fill': editForm.editFormATPCO.travelComplete{{$index}}.$error.required && fare.action != 'Canceled'}"																			            														                    		
												                				ng-model="fare.travelComplete"/>
													                			
													                			</span>
													                			<span ng-if="!vm.isFieldEditable(fare, 'travelComplete')">
													               				{{fare.travelComplete}}
													                			</span>
												               			</td>
												               			<td>
												               				<span ng-if="vm.isFieldEditable(fare, 'travelIndicator')">
													                				<input type="text" class="form-control" name="travelIndicator{{$index}}" id="field_travelIndicator"
													                				ng-disabled="vm.isFieldDisable('travelIndicator')"
													                				ng-required="vm.checkRequiredField('travelIndicator')"
														                    		ng-class="{'must-fill': editForm.editFormATPCO.travelIndicator{{$index}}.$error.required && fare.action != 'Canceled'}"																			            														                    		
													                				ng-model="fare.travelCompleteIndicator"/>
													                			
													                			</span>
													                			<span ng-if="!vm.isFieldEditable(fare, 'travelIndicator')">
													               				{{fare.travelCompleteIndicator}}
													                			</span>
												               			</td>
												               			<td>
												               				<span ng-if="vm.isFieldEditable(fare, 'ratesheetComment')">
													                				<input type="text" class="form-control" name="ratesheetComment{{$index}}" id="field_ratesheetComment"
													                				ng-disabled="vm.isFieldDisable('ratesheetComment')"
													                				ng-required="vm.checkRequiredField('ratesheetComment')"
														                    		ng-class="{'must-fill': editForm.editFormATPCO.ratesheetComment{{$index}}.$error.required && fare.action != 'Canceled'}"																			            														                    		
														                    		ng-model="fare.ratesheetComment"/>
													                			
													                			</span>
													                			<span ng-if="!vm.isFieldEditable(fare, 'ratesheetComment')">
													               				{{fare.ratesheetComment}}
													                			</span>
												               			</td>
																	</tr>
																	<tr class="datatable-action">
																		<td colspan="18" class="">
																			<div class="btn btn-app">
																				<i class="fa fa-level-up"></i>Move Up
																			</div>
																			<div class="btn btn-app">
																				<i class="fa fa-level-down"></i>Move Down
																			</div>	
																			<div class="btn btn-app">
																				<i class="fa fa-stack-exchange"></i>Derived Fares
																			</div>
																		</td>
																	</tr>
																	<tr class="datatable-action">
																		<td colspan="18" class="">																	
																			<div class="btn btn-app">
																				<i class="fa fa-level-up"></i>Move Up
																			</div>
																			<div class="btn btn-app">
																				<i class="fa fa-level-down"></i>Move Down
																			</div>
																			<div class="btn btn-app">
																				<i class="fa fa-stack-exchange"></i>Derived Fares
																			</div>
																		</td>
																	</tr>
																</tbody>
															</table>
														</div>
														<div class="clearfix">
															<div class="pull-left dataTables_info italic">
																* Field can not be empty.
															</div>
														</div>	
													</div>
												</div>
											
											</div>
										
											<div class="tab-pane" id="add-on">
												<div class="text-center no-data">No Data Available</div>
											</div>
											<div class="tab-pane" id="filling-instruction">
												<div class="text-center no-data">No Data Available</div>
											</div>
											<div class="tab-pane" id="attachment-atpco">
												<div class="text-center no-data">No Attachment Available</div>
											</div>
											<div class="tab-pane" id="filling-details">
												<div class="text-center no-data">No Attachment Available</div>
											</div>
										
									</div>
								</div>
							</div>
						</ng-form>
					</div>
				</div>
			</div>			
		</div>

		<!-- Modals -->
		<!-- modal agent -->
		<div class="modal fade" id="modalAgent" tabindex="-1" role="dialog" aria-labelledby="modalAgentLabel" aria-hidden="true">
		  	<div class="modal-dialog" role="document">
		    	<div class="modal-content">
		      		<div class="modal-header">
				        <h5 class="modal-title" id="modalAgentLabel">Add Agent</h5>
				        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
				          <span aria-hidden="true">&times;</span>
				        </button>
		      		</div>
		      		<div class="modal-body">
			        	<div class="form-group mb5px">
							<label>Agent</label>
							<div class="input-group">
								<input type="text" name="Agent" class="form-control" id="input-agent">
								<span class="input-group-addon add-agent">
									<i class="fa fa-plus"></i>
								</span>
							</div>
							<div class="form-validation-msg validate-agent">Please fill agent name</div>
						</div>
						<div class="agent-list-wrapper">
						</div>
			      	</div>
		      		<div class="modal-footer">				        
				        <button type="button" class="btn btn-secondary">Save changes</button>
				        <button type="button" class="btn btn-back" data-dismiss="modal">Close</button>
		      		</div>
		    	</div>
		  	</div>
		</div>

		<!-- modal rate sheet -->
		<div class="modal fade" id="modalRatesheet" tabindex="-1" role="dialog" aria-labelledby="modalRatesheetLabel" aria-hidden="true">
		  	<div class="modal-dialog" role="document">
		    	<div class="modal-content">
		      		<div class="modal-header">
				        <h5 class="modal-title" id="modalRatesheetLabel">Rate Sheet</h5>
				        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
				          <span aria-hidden="true">&times;</span>
				        </button>
		      		</div>
		      		<div class="modal-body">
			        	<div class="form-group mb5px">
							<label>Select Fields</label>
							<div class="clearfix mb1">
								<div class="pull-left w35">
									<select multiple="" class="form-control left-select">
					                	<option>Status</option>
					                    <option>Carrier</option>
					                    <option>Action</option>
					                    <option>Tar No</option>
					                    <option>Tar CD</option>
					                    <option>Global</option>
					                    <option>Origin</option>
					                    <option>Destination</option>
					                    <option>Fare Class</option>
					                    <option>Booking Class</option>
					                    <option>Cabin</option>
					                    <option>OW/RT</option>
					                    <option>Footnote</option>
					                    <option>Routing No</option>
					                    <option>Rule No</option>
					                    <option>Curency</option>
					                    <option>Base Amount</option>
					                    <option>Amount Difference</option>
					                    <option>% Amount Difference</option>
					                    <option>YQYR</option>
					                    <option>CAT 12</option>
					                    <option>Taxes</option>
					                    <option>TFC</option>
					                    <option>Target AIF</option>
					                    <option>Itinerary</option>
					                    <option>Overide Indicator</option>
					                    <option>Travel Start</option>
					                    <option>Travel End</option>
					                    <option>Sales Start</option>
					                    <option>Sales End</option>
					                    <option>EFFDT</option>
					                    <option>Comment</option>
					                    <option>Travel Complete</option>
					                    <option>Travel Complete Indicator</option>
					                    <option>Rate Sheet Comment</option>
					                    <option>Deal Code</option>
				                  	</select>
								</div>
								<div class="pull-left w30">
									<div class="ph5px">
										<div class="text-center action-ratesheet-wrapper">
											<div class="action-ratesheet js-addAll-ratesheet">ADD ALL</div>
											<div class="action-ratesheet js-add-ratesheet">ADD</div>
											<div class="action-ratesheet js-removeAll-ratesheet">REMOVE ALL</div>
											<div class="action-ratesheet js-remove-ratesheet">REMOVE</div>
										</div>
									</div>									
								</div>
								<div class="pull-left w35">
									<select multiple="" class="form-control right-select">
									</select>
								</div>
							</div>
							<div class="form-validation-msg validate-add">Before add please select any option from the left field.</div>
							<div class="form-validation-msg validate-addAll">Left field has no data.</div>
							<div class="form-validation-msg validate-remove">Before remove please select any option from the right field.</div>
							<div class="form-validation-msg validate-removeAll">Right field has no data.</div>
						</div>
						<div class="form-group">
							<label>Rule Text</label>
							<textarea class="form-control" rows="3" placeholder="Enter rule here ..."></textarea>
						</div>
			      	</div>
		      		<div class="modal-footer">				        
				        <button type="button" class="btn btn-secondary">Submit</button>
				        <button type="button" class="btn btn-back" data-dismiss="modal">Close</button>
		      		</div>
		    	</div>
		  	</div>
		</div>

		<!-- modal rate sheet -->
		<div class="modal fade" id="addNewsheet" tabindex="-1" role="dialog" aria-labelledby="addNewsheetLabel" aria-hidden="true">
		  	<div class="modal-dialog" role="document">
		    	<div class="modal-content">
		      		<div class="modal-header">
				        <h5 class="modal-title" id="addNewsheetLabel">Add New Work Sheet</h5>
				        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
				          <span aria-hidden="true">&times;</span>
				        </button>
		      		</div>
		      		<div class="modal-body">
		      			<div class="box-detail">
		      				<div class="box-header">
								Work Sheet Parameter
							</div>
		      				<div class="box-body">
		      					<div class="form-group">
									<label>Work Sheet Type</label>
									<select class="form-control">
										<option>Fares</option>
										<option>Lorem Ipsum</option>
									</select>
								</div>
								<div class="form-group">
									<label>Work SHeet Name *</label>
									<input type="text" name="Work SHeet Name" class="form-control must-fill">
								</div>
								<div class="form-group">
									<label>Sales Country Group</label>
									<select class="form-control">
										<option>SCG 1</option>
										<option>SCG 2</option>
									</select>
								</div>
								<div class="form-group">
									<label>Product Type</label>
									<select class="form-control">
										<option>Product Type 1</option>
										<option>Product Type 2</option>
									</select>
								</div>
								<div class="form-group">
									<label>Product Sub Type</label>
									<select class="form-control">
										<option>Product Sub Type 1</option>
										<option>Product Sub Type 2</option>
									</select>
								</div>
		      				</div>
		      			</div>						
			      	</div>
		      		<div class="modal-footer">				        
				        <button type="button" class="btn btn-secondary">Submit</button>
				        <button type="button" class="btn btn-back" data-dismiss="modal">Close</button>
		      		</div>
		    	</div>
		  	</div>
		</div>
	</div>
	
</form>
	
	<script>
		(function() {			
			var pages = [].slice.call(document.querySelectorAll('.page-wrapper > .page-content')),
				currentPage = 0,
				
				revealerOpts = {
					// the layers are the elements that move from the sides
					nmbLayers : 3,
					// bg color of each layer
					bgcolor : ['#111', '#fc3', '#fff'],
					// effect classname
					effect : 'anim--effect-4',
					onStart : function(direction) {
						// next page gets class page--animate-[direction]
						var nextPage = pages[currentPage === 0 ? 1 : 0];
						classie.add(nextPage, 'page--animate-' + direction);
					},
					onEnd : function(direction) {
						// remove class page--animate-[direction] from next page
						var nextPage = pages[currentPage === 0 ? 1 : 0];
						nextPage.className = 'page-content';
					}
				};
				revealer = new Revealer(revealerOpts);

			// clicking the page nav buttons

			var dataId;
			var dataDistribution;
			
			$('.js-createWorkOrder').click(function(){
				reveal('left'); 
				dataId = $(this).attr('data-id');
				$('.data-on').show();
			})

			$('.js-back').click(function(){
				reveal('left'); 
				dataId = $(this).attr('data-id');
			})

			$('.pagenav__button--right').click(function(){
				reveal('right'); 
				dataId = $(this).attr('data-id');
				dataDistribution = $(this).attr('data-distribution');
				var _href = $('#'+dataDistribution).find('.nav-tabs li:first-child a').attr('href');
				$('.tab-wrapper').hide();
				//$(".nav-tabs li").removeClass('active');
				//$('#'+dataDistribution).show().find('.nav-tabs li:first-child').addClass('active');
				$(_href).addClass('active');
				$('#sideBar-s1').removeClass('sideBar-open')
				$('.search-wrap').find('i').removeClass('shrink');
				$('.sideBar').find('.menu-list').removeClass('open');
				$('.menu-list').removeClass('sub');
				$('.sub-menu').slideUp(200);
				$('.page-content').removeClass('pushed');
			});

			// triggers the effect by calling instance.reveal(direction, callbackTime, callbackFn)
			function reveal(direction) {
				var callbackTime = 750,
					callbackFn = function() {
						classie.remove(pages[currentPage], 'page--current');
						currentPage = currentPage === 0 ? dataId : 0;
						classie.add(pages[currentPage], 'page--current');	
					};

				revealer.reveal(direction, callbackTime, callbackFn);
			}


			function changeEffect() {
				revealer.destroy();
				var revealerOpts = {
					// the layers are the elements that move from the sides
					nmbLayers : Number(this.options[this.selectedIndex].getAttribute('data-layers')),
					// bg color of each layer
					bgcolor : this.options[this.selectedIndex].getAttribute('data-colors').split(','),
					// effect classname
					effect : 'anim--' + this.value,
					onStart : function(direction) {
						// next page gets class page--animate-[direction]
						var nextPage = pages[currentPage === 0 ? dataId : 0];
						classie.add(nextPage, 'page--animate-' + direction);
					},
					onEnd : function(direction) {
						// remove class page--animate-[direction] from next page
						var nextPage = pages[currentPage === 0 ? dataId : 0];
						nextPage.className = 'page-content';
					}
				};
				
				revealer = new Revealer(revealerOpts);
			}
		})();
		</script>