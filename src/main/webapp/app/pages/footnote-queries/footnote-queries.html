
<div class="panel">
	<div class="panel-body">

		<div class="filter-hero">
			<div class="filter-label semibold show">Hide Filter</div>
			<div class="filter-area">
				<div class="clearfix">
					<form name="queryForm" role="form" novalidate>
						<div class="pull-left col-md-5 no-lpad">
							<div class="pull-left col-md-5 no-lpad">
								<div class="form-group">
									<div class="custom-label semibold">Carrier</div>
									<input type="text" class="form-control" name="carrier" id="cxr"
										ng-model="vm.queryParams.cxr" uppercase />
									<div class="custom-label semibold">Footnote</div>
									<input type="text" class="form-control" name="footNote"
										id="ftnt" ng-model="vm.queryParams.ftnt" uppercase />
								</div>
							</div>
							<div class="pull-left col-md-5 no-lpad">
								<div class="form-group">
									<div class="custom-label semibold">Tariff</div>
									<input type="text" class="form-control" name="tariff"
										id="tarNo" ng-model="vm.queryParams.tarNo" uppercase />
									<div class="custom-label semibold">Category</div>
									<select class="form-control" name="category" id="catNo"
										ng-model="vm.queryParams.catNo">
										<option value="">All</option>
										<option value="003">03 - Season App</option>
										<option value="004">04 - Flight App</option>
										<option value="005">05 - Adv Bkg</option>
										<option value="006">06 - Min Stay</option>
										<option value="007">07 - Max Stay</option>
										<option value="008">08 - Stopovers</option>
										<option value="009">09 - Transfers</option>
										<option value="010">10 - Comb'ty</option>
										<option value="011">11 - Blackouts</option>
										<option value="012">12 - Surcharges</option>
										<option value="013">13 - Accmp Tvl</option>
										<option value="014">14 - Tvl Rest</option>
										<option value="015">15 - Sale Rest</option>
										<option value="016">16 - Penalties</option>
										<option value="017">17 - Hi Int Pt</option>
										<option value="018">18 - Tkt Endorse</option>
										<option value="019">19 - Child Disc</option>
										<option value="020">20 - Tour Disc</option>
										<option value="021">21 - Agents Disc</option>
										<option value="022">22 - Other Disc</option>
										<option value="023">23 - Misc Tags</option>
										<option value="026">26 - Groups</option>
										<option value="027">27 - Tours</option>
										<option value="028">28 - Visit Cntry</option>
										<option value="029">29 - Deposits</option>
										<option value="031">31 - Vol Chgs</option>
										<option value="033">33 - Vol Refunds</option>
										<option value="035">35 - Neg Fares</option>
										<option value="050">50 - Rule App</option>
									</select>
								</div>
							</div>
						</div>
						<div class="pull-left col-md-4 no-lpad">
							<div class="form-group">
								<div class="custom-label semibold">Sale Start/End</div>
								<div class="col-md-4 no-lpad">
									<input type="text" class="form-control"
										ng-click="vm.openCalendar($event, 'saleDateFrom')"
										is-open="vm.datePickerOpenStatus['saleDateFrom']"
										datetime-picker="{{vm.dateFormat}}" enable-time="false"
										name="saleDateFrom" id="dtpSaleStart"
										ng-model="vm.queryParams.saleDateFrom" placeholder="From" />
								</div>
								<div class="col-md-4 no-lpad">
									<input type="text" class="form-control"
										ng-click="vm.openCalendar($event, 'saleDateTo')"
										is-open="vm.datePickerOpenStatus['saleDateTo']"
										datetime-picker="{{vm.dateFormat}}" enable-time="false"
										name="saleDateTo" id="dtpSaleEnd"
										ng-model="vm.queryParams.saleDateTo" placeholder="To" />
								</div>
								<div class="col-md-4 no-lpad">
									<select class="form-control" name="saleOption" id="saleOpt"
										ng-model="vm.queryParams.saleOpt">
										<option value="1">Active In</option>
										<option value="2">Exact Match</option>
									</select>
								</div>

							</div>
						</div>

						<div class="pull-left col-md-4 no-lpad">
							<div class="form-group">
								<div class="custom-label semibold">Travel Start/End</div>
								<div class="col-md-4 no-lpad">
									<input type="text" class="form-control"
										ng-click="vm.openCalendar($event, 'travelDateFrom')"
										is-open="vm.datePickerOpenStatus['travelDateFrom']"
										datetime-picker="{{vm.dateFormat}}" enable-time="false"
										name="travelDateFrom" id="dtpTravelStart"
										ng-model="vm.queryParams.travelDateFrom" placeholder="From" />
								</div>
								<div class="col-md-4 no-lpad">
									<input type="text" class="form-control"
										ng-click="vm.openCalendar($event, 'travelDateTo')"
										is-open="vm.datePickerOpenStatus['travelDateTo']"
										datetime-picker="{{vm.dateFormat}}" enable-time="false"
										name="travelDateTo" id="dtpTravelEnd"
										ng-model="vm.queryParams.travelDateTo" placeholder="To" />
								</div>
								<div class="col-md-4 no-lpad">
									<select class="form-control" name="travelOption" id="travelOpt"
										ng-model="vm.queryParams.travelOpt">
										<option value="1">Active In</option>
										<option value="2">Exact Match</option>
									</select>
								</div>

							</div>
						</div>
						
						<div class="pull-left col-md-4 no-lpad">
							<div class="form-group">
								<div class="custom-label semibold">Completed By/Ind</div>
								<div class="col-md-4 no-lpad">
									<input type="text" class="form-control"
										ng-click="vm.openCalendar($event, 'travelDateFrom')"
										is-open="vm.datePickerOpenStatus['travelDateFrom']"
										datetime-picker="{{vm.dateFormat}}" enable-time="false"
										name="travelDateFrom" id="dtpTravelStart"
										ng-model="vm.queryParams.travelDateFrom" placeholder="From" />
								</div>
								
								<div class="col-md-4 no-lpad">
									<select class="form-control" name="travelOption" id="travelOpt"
										ng-model="vm.queryParams.travelOpt">
										<option value="P"> P  -  Trip Completed</option>
										<option value="C"> C  -  Trip Commence</option>
									</select>
								</div>
								<div class="col-md-4 no-lpad">
									<select class="form-control" name="travelOption" id="travelOpt"
										ng-model="vm.queryParams.travelOpt">
										<option value="2">Exact Match</option>
									</select>
								</div>

							</div>
						</div>

						<div class="pull-right col-md-6 no-lpad">
							<div class="form-group">
								<div class="pull-right query-button-wrapper">
									<button type="button" class="btn btn-default small pull-left"
										ng-click="vm.loadAll(); vm.hideDetail()">Query</button>
									<button type="button" class="btn btn-default small pull-left"
										ng-click="vm.hideDetail(); vm.clearFilter();">Clear</button>
									<button type="reset" ng-click="vm.reset(); vm.hideDetail()"
										class="btn btn-default small pull-left">Reset</button>
								</div>
							</div>
						</div>
					</form>
				</div>
			</div>
		</div>

		<div class="table-wrapper">
			<div class="datatable-wrapper form-inline">
				<div class="table-responsive">
					<table class="table table-striped table-bordered datatable">
						<thead>
							<tr>
								<th>NO</th>
								<th>CXR</th>
								<th>FARE / ADDON</th>
								<th>TARIFF NO</th>
								<th>TARIFF CODE</th>
								<th>FOOTNOTE</th>
								<th>TYPE</th>
								<th>FARE / ADDON COUNT</th>
							</tr>
						</thead>
						<tbody>
							<tr ng-repeat="ftntQuery in vm.ftntQueries"
								ng-click="vm.selectedRow = ftntQuery; vm.getFtnt(ftntQuery); vm.getFtnt2(ftntQuery); vm.showDetail()"
								ng-class="{'selected': vm.selectedRow == ftntQuery}">
								<td>{{$index + 1}}</td>
								<td>{{ftntQuery.fareAddon}}</td>
								<td>{{ftntQuery.tarNo}}</td>
								<td>{{ftntQuery.trcd}}</td>
								<td>{{ftntQuery.ftnt}}</td>
								<td>{{ftntQuery.type}}</td>
								<td>{{ftntQuery.fareAddonCount}}</td>
							</tr>
							<!-- 							<tr ng-if="vm.selectedRow == afdQuery.atpcoFareId"> -->
							<!-- 								<div></div> -->
							<!-- 							</tr> -->
						</tbody>
					</table>
				</div>
				<div class="text-center">
					<jhi-item-count page="vm.page" total="vm.queryCount"
						items-per-page="vm.itemsPerPage"></jhi-item-count>
					<uib-pagination class="pagination-sm" total-items="vm.totalItems"
						items-per-page="vm.itemsPerPage" ng-model="vm.page"
						ng-change="vm.loadAll()"></uib-pagination>
				</div>
			</div>
		</div>

		<div class="table-wrapper">
			<div class="datatable-wrapper form-inline">
				<div class="table-responsive">
					<table class="table table-striped table-bordered datatable"
						id="tblDetail" hidden="hidden">
						<thead>
							<tr>
								<th>NO</th>
								<th>CAT NO</th>
								<th>SEQ NO</th>
								<th>LOC 1 TYPE</th>
								<th>LOC 1</th>
								<th>LOC 2 TYPE</th>
								<th>LOC 2</th>
								<th>FARE BASIS</th>
								<th>FARE TYPE</th>
								<th>SSN</th>
								<th>DOW</th>
								<th>OWRT</th>
								<th>RTG NO</th>
								<th>FTNT</th>
								<th>EFFECTIVE DATE</th>
								<th>DISCONTINUE DATE</th>
							</tr>
						</thead>
						<tbody>
							<tr ng-repeat="rq in vm.ruleQueryCategories">
								<td>{{$index + 1}}</td>
								<td>{{rq.catNo}}</td>
								<td>{{rq.sequenceNo}}</td>
								<td>{{rq.geoType1}}</td>
								<td>{{rq.geoLoc1}}</td>
								<td>{{rq.geoType2}}</td>
								<td>{{rq.geoLoc2}}</td>
								<td>{{rq.fareClass}}</td>
								<td>{{rq.fareType}}</td>
								<td>{{rq.seasonType}}</td>
								<td>{{rq.dayOfWeekType}}</td>
								<td>{{rq.owrt}}</td>
								<td>{{rq.routingNo}}</td>
								<td>{{rq.footnote}}</td>
								<td>{{rq.effectiveDateObject | date:'medium'}}</td>
								<td><span ng-if="rq.discontinueDateObject=='indef'"></span><span
									ng-if="rq.discontinueDateObject!='indef'">{{rq.discontinueDateObject
										| date:'medium'}}</span></td>

							</tr>
							<!-- 							<tr ng-if="vm.selectedRow == afdQuery.atpcoFareId"> -->
							<!-- 								<div></div> -->
							<!-- 							</tr> -->
						</tbody>
					</table>
				</div>

				<div class="additional-info-wrapper" id="ruleCategories"
					hidden="hidden">
					<div class="additional-info" ng-click="vm.showCategoryDetail(cat)"
						ng-class="{'yellow': cat.catAttributes.length > 0 && cat.type != 'G', 'blue': cat.catAttributes.length > 0 && cat.type == 'G'}"
						ng-repeat="cat in vm.ruleQueryCategories2 track by cat.catNo">
						{{cat.catNo}} {{cat.catName}} <span
							ng-if="cat.catAttributes.length > 0">({{cat.type}})</span>
					</div>
				</div>
				<!-- 				<div class="text-center"> -->
				<!-- 					<jhi-item-count page="vm.page" total="vm.queryCount" -->
				<!-- 						items-per-page="vm.itemsPerPage"></jhi-item-count> -->
				<!-- 					<uib-pagination class="pagination-sm" total-items="vm.totalItems" -->
				<!-- 						items-per-page="vm.itemsPerPage" ng-model="vm.page" -->
				<!-- 						ng-change="vm.loadAll()"></uib-pagination> -->
				<!-- 				</div> -->
			</div>
		</div>

	</div>
</div>