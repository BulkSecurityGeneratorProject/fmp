<div class="content-title">
	<h2>RBD Query</h2>
	<jhi-alert></jhi-alert>
</div>
<div class="panel">
	<div class="panel-body">
		<div class="filter-hero">
			<div class="filter-label semibold show">Hide Filter</div>
			<div class="filter-area">
				<div class="clearfix">
					<form name="queryForm" role="form" novalidate>
						<div class="col-md-12 no-pad">
							<div class="pull-left col-md-4 no-lpad">
								<div class="form-group">
									<div class="custom-label semibold">Carrier</div>
									<div class="input-group">
										<input id="cxr" type="text" class="form-control" name="cxr" 
											ng-model="vm.paramCarrier" uppercase ng-disabled="true"> 
										<span ng-click="vm.showCarrierModal()"
											class="input-group-addon"><i class="fa fa-folder"></i>
										</span>
									</div>									
								</div>
								<div class="form-group">
									<div class="custom-label semibold">Rule</div>
									<input type="text" class="form-control" name="ruleno"
										id="routingno" ng-model="vm.params.ruleNo" uppercase />
								</div>
							</div>
							<div class="pull-left col-md-4 no-lpad">
								<div class="form-group">
									<div class="custom-label semibold">Tariff Number</div>
									<div class="input-group">
										<input id="ruleTarNo" type="text" name="ruleTarNo"
											class="form-control" ng-model="vm.paramTarNo" uppercase ng-disabled="true">
										<span ng-click="vm.showTariffModal()"
											class="input-group-addon"><i class="fa fa-folder"></i>
										</span>
									</div>
								</div>
								<div class="form-group absolute-datepicker">
									<div class="custom-label semibold">Effective Date</div>
									<div class="row no-mar">
										<div class="col-md-6 no-lpad">
											<input type="text" class="form-control"
												ng-click="vm.openCalendar($event, 'effectiveDateFrom')"
												is-open="vm.datePickerOpenStatus['effectiveDateFrom']"
												datetime-picker="{{vm.dateFormat}}" enable-time="false"
												name="effectiveDateFrom" id="dtpEffectiveDate"
												ng-model="vm.params.effectiveDateFrom" placeholder="Date" />												
										</div>
									</div>
								</div>
							</div>
							<div class="col-md-12 no-lpad">
								<div class="form-group">
									<div class="custom-label semibold">Chart</div>
									<div class="checkbox-wrapper">
										<div class="checkbox-wrapper">
											<label> 
												<input type="checkbox" name="chart1_chkbox" ng-model="vm.params.chart1"> Chart 1
											</label>
										</div>
										<div class="checkbox-wrapper">
											<label> 
												<input type="checkbox" name="chart2_chkbox" ng-model="vm.params.chart2"> Chart 2
											</label>
										</div>
									</div>
								</div>
							</div>
						</div>
						<div class="clearfix">
							<div class="pull-right pv1">
								<button type="button" class="btn btn-default small"
									ng-click="vm.loadAll();">Query</button>
								<button type="button" class="btn btn-default small"
									ng-click="vm.clearFilter();">Clear</button>
								<button type="reset" class="btn btn-default small"
									ng-click="vm.resetFilter();">Reset</button>
							</div>
						</div>
					</form>
				</div>
			</div>
		</div>
		<div class="table-wrapper">
			<div class="datatable-wrapper form-inline">
				<div class="table-responsive">
					<table class="table table-striped table-bordered datatable">
						<thead>
							<tr role="row" jh-sort="vm.predicate" ascending="vm.reverse"
								callback="vm.transition()">
								<th>No.</th>
								<th><span>Cxr</span></th>
								<th><span>Rules Tar No</span></th>
								<th><span>Rule No</span></th>
								<th><span>Chart</span></th>
								<th><span>Table No</span></th>
								<th><span>Sequence No</span></th>
								<th><span>Effective Date</span></th>
								<th><span>Discontinue Date</span> </th>
								<th></th>
							</tr>
						</thead>
						<tbody>
							<tr ng-repeat="rbdquery in vm.rbdqueries"
								ng-class="{'selected': vm.selectedRow == rbdquery}"
								ng-click="vm.selectedRow = rbdquery; vm.getDetails(rbdquery);">
								<td>{{$index + 1}}</td>
								<td>{{rbdquery.cxrCode}}</td>
								<td>{{rbdquery.rulesTar}}</td>
								<td>{{rbdquery.ruleNo}}</td>
								<td>{{rbdquery.conv}}</td>
								<td>{{rbdquery.bookingCodeTblNo999}}</td>
								<td>{{rbdquery.sequenceNo}}</td>
								<td>{{rbdquery.effectiveDate | date:'medium'}}</td>
								<td>{{rbdquery.discontinueDate | date:'medium'}}</td>
								<td class="text-right">
			                        <div class="btn-group flex-btn-group-container">
			                            <button type="submit"
			                                    ui-sref="rbdquery-detail({id:rbdquery.id})"
			                                    class="btn btn-info btn-sm">
			                                <span class="glyphicon glyphicon-eye-open"></span>
			                                <span class="hidden-sm-down"></span>
			                            </button>
			                        </div>
			                    </td>
							</tr>
						</tbody>
					</table>
				</div>
				<div class="text-center">
					<jhi-item-count page="vm.page" total="vm.queryCount"
						items-per-page="vm.itemsPerPage"></jhi-item-count>
					<uib-pagination class="pagination-sm" total-items="vm.totalItems"
						items-per-page="vm.itemsPerPage" ng-model="vm.page"
						ng-change="vm.loadAll()"></uib-pagination>
				</div>
			</div>
		</div>
	</div>
</div>
