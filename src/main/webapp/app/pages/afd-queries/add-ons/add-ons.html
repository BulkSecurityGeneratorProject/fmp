<style>
	.page-wrapper .page-content {
		padding-bottom: 60px;
	}
</style>

<div class="panel">
	<div class="panel-body">
		<div class="filter-hero">
			<div class="filter-label semibold show">Hide Filter</div>							
			<div class="filter-area">
				<div class="clearfix">
					<form name="queryForm" role="form" novalidate>
						<div class="pull-left col-md-5 no-pad">
							<div class="pull-left col-md-6 no-lpad">
								<div class="form-group">
									<div class="custom-label semibold">Carrier</div>
									<input type="text" class="form-control" name="carrier" id="carrier" ng-model="vm.queryParams.carrier" uppercase/>
								</div>
								<div class="form-group">
									<div class="custom-label semibold">Source</div>
									<select class="form-control" name="source" id="source" ng-init="vm.queryParams.source = 'A'" ng-model="vm.queryParams.source">
										<option value="{{value.key}}" ng-repeat="value in vm.sources track by $index">{{value.value}}</option>
									</select>
								</div>
								<div class="form-group">
									<div class="custom-label semibold">Public/Private</div>
									<select class="form-control" name="publicPrivate" id="publicPrivate" ng-disabled="true" ng-model="vm.queryParams.publicPrivate">
										<option value="{{value.key}}" ng-repeat="value in vm.publicPrivate track by $index">{{value.value}}</option>
									</select>
								</div>
								<div class="form-group">
									<div class="custom-label semibold">Tariff</div>
									<input autocomplete="off" type="text" name="tariff" ng-model="vm.queryParams.tariff" class="form-control"
            							uib-typeahead="o.tarNo as o.tarNo + ' - ' + o.tarCd for o in vm.tariffs | filter:{tarNo: $viewValue} | limitTo:5">
								</div>
								<div class="form-group">
									<div class="custom-label semibold">OW/RT</div>
									<select class="form-control" name="owrt" id="owrt" ng-model="vm.queryParams.owrt">
										<option value="{{value.key}}" ng-repeat="value in vm.owrts track by $index">{{value.value}}</option>
									</select>
								</div>
							</div>
							<div class="pull-left col-md-6 no-lpad">
								<div class="form-group">
									<div class="custom-label semibold">Origin</div>
									<input type="text" class="form-control" name="origin" id="origin" ng-model="vm.queryParams.origin" uppercase/>
								</div>
								<div class="form-group">
									<div class="custom-label semibold">Destination</div>
									<input type="text" class="form-control" name="destination" id="destination" ng-model="vm.queryParams.destination" uppercase/>
								</div>
								<div class="form-group">
									<div class="custom-label semibold">Add-On Bucket</div>
									<input type="text" class="form-control" name="bucket" id="bucket" ng-model="vm.queryParams.bucket"/>
								</div>
								<div class="row no-mar">
									<div class="col-md-6 no-lpad">
										<div class="form-group">
											<div class="custom-label semibold">Footnote 1</div>
											<input type="text" class="form-control" name="footnote1" id="footnote1" ng-model="vm.queryParams.footnote1" maxlength="2" uppercase/>
										</div>
									</div>
									<div class="col-md-6 no-pad">
										<div class="form-group">
											<div class="custom-label semibold">Footnote 2</div>
											<input type="text" class="form-control" name="footnote1" id="footnote2" ng-model="vm.queryParams.footnote2" maxlength="2" uppercase/>
										</div>
									</div>
								</div>
								
								<div class="form-group">
									<div class="custom-label semibold">Zone No</div>
									<input type="number" class="form-control" name="zoneNo" id="zoneNo" ng-model="vm.queryParams.zoneNo" maxlength="3"/>
								</div>
							</div>
						</div>
						
					</form>
				</div>
			</div>
		</div>
		<div class="table-wrapper table-afd mb2">
			<div class="datatable-wrapper form-inline">
				<div class="clearfix">
					<div class="pull-right w50">
						<div class="clearfix">
							<div class="pull-right datatable-button">
								<div class="button-group dropdown custom">
									<button class="btn btn-default small">Action <i class="fa fa-caret-down"></i></button>
									<ul class="dropdown-menu custom right-dropdown" role="menu">
									    <li>
									    	<a ng-click="vm.copyAddOns()" ng-disabled="vm.selectedRows.length == 0">Copy</a>
									    </li>
									    <li>
									    	<a ng-click="vm.showAddOnDetail()" ng-disabled="vm.selectedAddOns.length == 0">Add-On Details</a>
									    </li>
									    <li>
									    	<a ng-click="vm.selectAll()">Select All</a>
									    </li>
									</ul>
								</div>	
							</div>
						</div>																						
					</div>
				</div>
				<br/>
				<div class="table-responsive" style="overflow-y:hidden; max-height: initial; padding-bottom: 0">
			        <table class="table table-striped table-bordered datatable table-header-fixed">
			            <thead style="padding-right: 17px; background-color: #64768a">
			                <tr>
			                    <th class="th-fixed">ID</th>
			                    <th class="th-fixed">Source</th>
			                    <th class="th-fixed">Tar No</th>
			                    <th class="th-fixed">Tar Cd</th>
			                    <th class="th-fixed">Zone</th>
			                    <th class="th-fixed">Cxr</th>
			                    <th class="th-fixed">Orig</th>
			                    <th class="th-fixed">Orig Cn</th>
			                    <th class="th-fixed">Dest</th>
			                    <th class="th-fixed">Dest Cn</th>
			                    <th class="th-fixed">Fare Cls</th>
			                    <th class="th-fixed">Bkg Cls</th> 
			                    <th class="th-fixed">OW/RT</th>
			                    <th class="th-fixed">Ftnt1</th>
			                    <th class="th-fixed">Ftnt2</th>
			                    <th class="th-fixed">Rtg No</th>
			                    <th class="th-fixed">Curr</th>
			                    <th class="th-fixed">Base Amt</th>
			                    <th class="th-fixed">Eff Date</th>
			                    <th class="th-fixed">Disc Date</th>
			                    <th class="th-fixed">GFS Ref</th>
			                    <th class="th-fixed">Rule Focus Date</th>
			                    <th class="th-fixed">Travel Start</th>
			                    <th class="th-fixed">Travel End</th>
			                    <th class="th-fixed">Travel Complete</th>
			                    <th class="th-fixed">Sale Start</th>
			                    <th class="th-fixed">Sale End</th>
			                    <th class="th-fixed">Ref Amt</th>
			                    <th class="th-fixed">WO ID</th>
			                </tr>
			            </thead>
			            <tbody id="tbody-afd">
			                <tr class="tr-afd" ng-repeat="addOn in vm.addOns track by addOn.id" ng-click="vm.setSelectedRow($index, addOn)" ng-class="{'selected': vm.selectedRows[$index] == addOn}">
			                    <td>{{$index + 1}}</td>
			                    <td>{{addOn.source}}</td>
			                    <td>{{addOn.tariffNo}}</td>
			                    <td>{{addOn.tariffCode}}</td>
			                    <td>{{addOn.zone}}</td>
			                    <td>{{addOn.carrierCode}}</td>
			                    <td>{{addOn.originCity}}</td>
			                    <td>{{addOn.originCountry}}</td>
			                    <td>{{addOn.destinationCity}}</td>
			                    <td>{{addOn.destinationCountry}}</td>
			                    <td>{{addOn.fareClassCode}}</td>
			                    <td></td>
			                    <td>{{addOn.owrt}}</td>
			                    <td>{{addOn.footnote1}}</td>
			                    <td>{{addOn.footnote2}}</td>
			                    <td>{{addOn.routingNo}}</td>
			                    <td>{{addOn.currencyCode}}</td>
			                    <td>{{addOn.baseAmount}}</td>
			                  	<td><span ng-if="addOn.effectiveDate != 'indef'">{{addOn.effectiveDate | date:vm.dateFormat:vm.timezone}}</span></td>
			                	<td><span ng-if="addOn.discontinueDate != 'indef'">{{addOn.discontinueDate | date:vm.dateFormat:vm.timezone}}</span></td>
			                   	<td><span ng-if="addOn.gfsDate != undefined && addOn.gfsDate != null">{{addOn.gfsDate | date:vm.dateFormat:vm.timezone}} | {{addOn.gfsReference}}</span></td>
			                </tr>
			                <tr infinite-scroll="vm.loadPage(vm.page + 1)" infinite-scroll-disabled="vm.disableInfiniteScroll || vm.isLastPage || vm.isLoading" infinite-scroll-container="'#tbody-afd'"></tr>
			            </tbody>
			        </table>
			        <div class="col-md-12 text-center" ng-if="vm.isLoading">
						<div class="spinner">
						  <div class="double-bounce1"></div>
						  <div class="double-bounce2"></div>
						</div>
					</div>
					<div class="col-md-12 text-center">
						<label ng-if="(vm.noDataAvailable || vm.addOns.length == 0) && !vm.isLoading" style="text-align: center; margin: 0">No Data Available</label>
						<label ng-if="vm.isLastPage && !vm.noDataAvailable" style="text-align: center; margin: 0">You have reached the end of the page &nbsp;<i style="font-size: 10px !important;" class="glyphicon glyphicon-chevron-up"></i></label>
					</div>
			    </div>
			</div>
		</div>
	</div>
</div>