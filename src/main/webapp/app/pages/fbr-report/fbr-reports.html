<div class="content-title">
	<h2>Fare By Rule Report</h2>
	<jhi-alert></jhi-alert>
</div>

<div class="panel">
	<div class="panel-body">
		<div class="filter-hero">
			<div class="filter-label semibold show">Hide Filter</div>
			<div class="filter-area">
				<div class="clearfix">
					<form name="queryForm" role="form" novalidate>
						<div class="col-md-12 no-pad">
							<div class="col-md-4">	
						     	<div class="form-group">
									<div class="custom-label semibold">Carrier</div>
									<input type="text" class="form-control" name="carrier" id="carrier" ng-model="vm.queryParams.carrier" uppercase/>
								</div>
							</div>
							<div class="col-md-4">	
								<div class="form-group">
									<div class="custom-label semibold">Tariff</div>
									<input type="text" class="form-control" name="tariff" id="tariff" ng-model="vm.queryParams.tariff"/>
								</div>
							</div>
							<div class="col-md-4">	
								<div class="form-group">
									<div class="custom-label semibold">Rule No</div>
									<input type="text" class="form-control" name="ruleNo" id="ruleNo" ng-model="vm.queryParams.ruleNo" uppercase/>
								</div>
							</div>
							<div class="clearfix">
								<div class="pull-right pv1">
									<button type="button" class="btn btn-default small" ng-click="vm.query()" id="btn-afd-query">Query</button>
									<button type="reset" ng-click="vm.reset()" class="btn btn-default small">Reset</button>
								</div>
							</div>
						</div>
					</form>
				</div>
			</div>
		</div>
		
		<div class="table-wrapper table-afd mb2">
			<div class="datatable-wrapper form-inline">
				<div class="table-responsive" style="overflow-y:hidden; max-height: initial; padding-bottom: 0">
					<div class="absolute-table">
						<table class="table table-striped table-bordered datatable table-header-fixed">
				            <thead class="thead-fixed">
				                <tr>
				                	<th class="th-fixed">ID</th>
				                	<th class="th-fixed">Created Date</th>
				                	<th class="th-fixed">Carrier</th>
				                	<th class="th-fixed">Creator</th>
				                	<th class="th-fixed">Report Name</th>
				                	<th class="th-fixed">Tariff</th>
				                	<th class="th-fixed">Rule No</th>
				                	<th class="th-fixed">Rule Title</th>
				                	<th class="th-fixed">Progress</th>
				                	<th class="th-fixed">Fare Count</th>
				                	<th class="th-fixed">Error</th>
				                </tr>
				         	</thead>
				         	<tbody id="tbody-afd" class="tbody-fixed">
				                <tr class="tr-afd" ng-repeat="report in vm.reports track by report.id" ng-click="vm.selectedReport = report" ng-class="{'selected': vm.selectedReport == report}">
				                    <td>{{$index + 1}}</td>
				                    <td>{{report.createdDate | date:vm.dateFormat:vm.timezone}}</td>
				                    <td>{{report.carrier}}</td>
				                    <td>{{report.creator}}</td>
				                    <td>{{report.reportName}}</td>
				                    <td>{{report.tariff}}</td>
				                    <td>{{report.ruleNo}}</td>
				                    <td>{{report.ruleTitle}}</td>
				                    <td>{{report.progress}}%</td>
				                    <td>{{report.fareCount}}</td>
				                    <td><span ng-if="report.error"><i class="glyphicon glyphicon-ok"></i></span></td>
				         		</tr>
				         		<tr infinite-scroll="vm.loadPage(vm.page + 1)" infinite-scroll-disabled="vm.disableInfiniteScroll || vm.isLastPage || vm.isLoading" infinite-scroll-container="'#tbody-afd'"></tr>
				        	</tbody>
				       	</table>
				   	</div>
				   	<div class="text-center fixed-wrapper-inside">
						<div class="spinner" ng-if="vm.isLoading">
							<div class="rect1"></div>
							<div class="rect2"></div>
							<div class="rect3"></div>
							<div class="rect4"></div>
							<div class="rect5"></div>
						</div>
						<div class="center-div" ng-if="(vm.noDataAvailable || vm.reports.length == 0) && !vm.isLoading">No Data Available</div>
						<div class="center-div" ng-if="vm.isLastPage && !vm.noDataAvailable">You have reached the end of the page &nbsp;<i style="font-size: 8px !important; top: 0" class="glyphicon glyphicon-chevron-up"></i></div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>